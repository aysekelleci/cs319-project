{% extends 'accounts/navbar.html' %}

{% block header_content %}
<div class="header">Files
    <div class="header_buttons">
        <button type="button" onclick="location.href = '../../upload-documents/0/0'">Add a New File</button>
    </div>
</div>
{% endblock %}


{% block page_content %}
<div class="page_content">
    <div id="course_table">
            <input type="text" id="filter_input" onkeyup="filterTable()" style="width:100%" placeholder="Search for courses..">
            <table id="filtered_list" style="width:100%">
                <thead>
                <tr>
                    <th style="width:6%" id="count"></th>
                    <th style="width:17%">Type</th>
                    <th style="width:15%">Name</th>
                    <th style="width:15%">Is signed by coordinator?</th>
                    <th style="width:15%">Date</th>
                    <th style="width:12%">File format</th>
                    <th style="width:20%" colspan="2">Operations</th>
                </tr>
                </thead>
                <tbody>
                {% if documents %}
                {% for document in documents %}
                <tr>
                    <td style="width:6%" id="count"></td>
                    <td style="width:17%">{{document.document_type}}</td>
                    <td style="width:15%">{{document.document_name}}</td>
                    <td style="width:15%">{{document.is_signed_coordinator}}</td>
                    <td style="width:15%">{{document.date}}</td>
                    <td style="width:12%">{{document.get_file_format}}</td>
                    <td>
                        <a class="button" href="{{document.document.url}}" download="{{document.document.url}}">Download</a>
                        <a class="button" href="/delete-document/{{document.pk}}">Delete</a>
                        <input type="checkbox" class="file-selection" id="{{document.user.pk}}/{{document.pk}}">
                    </td>
                </tr>
                {%endfor%}
                {% else %}
                <tr>
                    <td colspan="7">No files yet</td>
                </tr>
                {% endif %}
                </tbody>
            </table>
            {% if documents %}
            <div style="padding: 0; display: flex; justify-content: right;">
                    <a style="margin-right: 20px; margin-left: auto;" class="compare-file" onclick="compareFiles()" href="#">Compare</a>
            </div>
        {% endif %}
        </div>
</div>
{% endblock %}